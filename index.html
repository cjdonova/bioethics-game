<!DOCTYPE html>
<html>
<head>
    <title>BioEthics Game - Simple Version</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .screen {
            display: none;
        }
        .screen.active {
            display: block;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 16px;
            width: 100%;
        }
        button:hover {
            background: #2980b9;
        }
        .scenario-box {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        .consequence {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #27ae60;
        }
        .score {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin: 20px 0;
        }
        textarea {
            width: 100%;
            height: 60px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 10px 0;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="start" class="screen active">
            <h1>🧬 BioEthics Decision Game</h1>
            <p>Navigate ethical challenges in biotechnology with real consequences.</p>
            
            <div class="scenario-box">
                <h3>What You'll Experience:</h3>
                <ul>
                    <li>Make tough ethical decisions</li>
                    <li>See real consequences of your choices</li>
                    <li>Navigate complex stakeholder reactions</li>
                    <li>Build your ethics expertise</li>
                </ul>
            </div>
            
            <button onclick="startGame()">🚀 Start Your Journey</button>
        </div>

        <!-- Game Screen -->
        <div id="game" class="screen">
            <div class="score">Ethics Score: <span id="score">100</span>/100</div>
            <div class="score">Step <span id="step">1</span> of 3</div>
            
            <div class="scenario-box">
                <h2 id="title">Gene Therapy Crisis</h2>
                <p id="story">You're loading...</p>
            </div>

            <div id="consequence" class="consequence" style="display: none;">
                <strong>Consequence:</strong> <span id="cons-text"></span>
                <br><small><em>Next scenario loads in 2 seconds...</em></small>
            </div>

            <div>
                <label><strong>Your Reasoning:</strong></label>
                <textarea id="thinking" placeholder="What are you thinking about this decision?"></textarea>
            </div>

            <div id="choices">
                <!-- Choices will go here -->
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results" class="screen">
            <h1>🎯 Journey Complete!</h1>
            <div class="score">Final Score: <span id="final-score">100</span>/100</div>
            <div id="assessment" class="scenario-box"></div>
            
            <h3>Your Decisions:</h3>
            <div id="decisions-list"></div>
            
            <h3>Your Thoughts:</h3>
            <div id="thoughts-list"></div>
            
            <button onclick="restart()">🔄 Try Again</button>
        </div>
    </div>

    <script>
        // Game data
        let currentStep = 1;
        let score = 100;
        let decisions = [];
        let thoughts = [];

        // Game scenarios
        const scenarios = [
            {
                title: "Gene Therapy Access Crisis",
                story: "You're a hospital director. A new gene therapy costs $2 million per treatment and can save children's lives. You can only afford 4 treatments, but 18 children need it. How do you decide who gets treatment?",
                choices: [
                    { text: "Create medical committee to rank by severity", points: 10, outcome: "The committee creates fair medical criteria, but some families feel the process is cold." },
                    { text: "Use lottery system for complete fairness", points: 5, outcome: "The lottery is fair but the sickest child might not get treatment, causing public outrage." },
                    { text: "Launch fundraising campaign", points: 15, outcome: "Fundraising succeeds but creates pressure to treat donors' children first." },
                    { text: "Negotiate with drug company for better pricing", points: 8, outcome: "Company offers discount but wants exclusive research rights and patient data." }
                ]
            },
            {
                title: "AI Diagnostic Privacy Dilemma",
                story: "Your hospital wants to use AI that analyzes social media and shopping data to predict heart attacks 6 months early. It's 85% accurate and could save 200+ lives per year, but privacy advocates are concerned about surveillance.",
                choices: [
                    { text: "Implement with full patient consent", points: 12, outcome: "40% of patients opt-in, preventing 80 heart attacks but leaving many unprotected." },
                    { text: "Reject due to privacy concerns", points: 8, outcome: "Privacy is protected but 35 preventable heart attacks occur in the first year." },
                    { text: "Use only for high-risk patients", points: 10, outcome: "System helps some patients but creates two-tier healthcare access." },
                    { text: "Implement secretly for 'patient benefit'", points: -10, outcome: "Effective prevention but massive privacy violation scandal when discovered." }
                ]
            },
            {
                title: "Global Vaccine Pricing",
                story: "Your company developed a life-saving vaccine that costs $8 to make. Your board wants to price it at $180 in wealthy countries. This leaves 500 million people in poor countries without access. How do you balance profit with global health?",
                choices: [
                    { text: "Use tiered pricing - rich countries subsidize poor ones", points: 18, outcome: "2 billion people vaccinated globally, preventing 800,000 deaths and creating sustainable model." },
                    { text: "Price at cost globally through public funding", points: 12, outcome: "Universal access achieved but future R&D depends on uncertain government funding." },
                    { text: "Maintain high pricing to fund future research", points: -8, outcome: "Strong profits enable new drug development but 500 million remain vulnerable." },
                    { text: "Create nonprofit foundation model", points: 15, outcome: "Cross-subsidization works but creates complex international negotiations." }
                ]
            }
        ];

        function startGame() {
            document.getElementById('start').classList.remove('active');
            document.getElementById('game').classList.add('active');
            loadScenario();
        }

        function loadScenario() {
            if (currentStep > scenarios.length) {
                showResults();
                return;
            }

            const scenario = scenarios[currentStep - 1];
            
            document.getElementById('step').textContent = currentStep;
            document.getElementById('title').textContent = scenario.title;
            document.getElementById('story').textContent = scenario.story;
            
            // Hide previous consequence initially
            if (currentStep === 1) {
                document.getElementById('consequence').style.display = 'none';
            }
            
            // Load choices
            const choicesDiv = document.getElementById('choices');
            choicesDiv.innerHTML = '';
            
            scenario.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.textContent = choice.text;
                button.onclick = () => makeChoice(index);
                choicesDiv.appendChild(button);
            });

            // Clear thinking box
            document.getElementById('thinking').value = '';
        }

        function makeChoice(choiceIndex) {
            const scenario = scenarios[currentStep - 1];
            const choice = scenario.choices[choiceIndex];
            
            // Record thinking
            const thinking = document.getElementById('thinking').value.trim();
            if (thinking) {
                thoughts.push(`Step ${currentStep}: ${thinking}`);
            }
            
            // Record decision
            decisions.push(`Step ${currentStep}: ${choice.text} (${choice.points > 0 ? '+' : ''}${choice.points} points)`);
            
            // Update score
            score += choice.points;
            score = Math.max(0, Math.min(100, score));
            document.getElementById('score').textContent = score;
            
            // Show consequence
            document.getElementById('consequence').style.display = 'block';
            document.getElementById('cons-text').textContent = choice.outcome;
            
            // Disable all buttons
            const buttons = document.querySelectorAll('#choices button');
            buttons.forEach(btn => btn.disabled = true);
            
            // Move to next step after delay
            setTimeout(() => {
                currentStep++;
                loadScenario();
            }, 2000); // Reduced from 3000 to 2000 (2 seconds)
        }

        function showResults() {
            document.getElementById('game').classList.remove('active');
            document.getElementById('results').classList.add('active');
            
            document.getElementById('final-score').textContent = score;
            
            // Assessment
            let assessment = '';
            if (score >= 80) {
                assessment = '🌟 Excellent! You demonstrated strong ethical leadership, balancing competing interests while prioritizing patient welfare and social justice.';
            } else if (score >= 60) {
                assessment = '👍 Good work! You handled most ethical challenges well, though some decisions could have better balanced stakeholder interests.';
            } else if (score >= 40) {
                assessment = '📚 Learning experience! Your journey shows the complexity of healthcare ethics. Consider how different approaches might better serve all stakeholders.';
            } else {
                assessment = '🤔 Challenging journey! Healthcare ethics requires balancing many competing interests. Reflect on how to better integrate ethical principles into decision-making.';
            }
            
            document.getElementById('assessment').innerHTML = assessment;
            
            // Show decisions
            const decisionsList = document.getElementById('decisions-list');
            decisionsList.innerHTML = decisions.map(d => `<div class="consequence">${d}</div>`).join('');
            
            // Show thoughts
            const thoughtsList = document.getElementById('thoughts-list');
            if (thoughts.length > 0) {
                thoughtsList.innerHTML = thoughts.map(t => `<div class="consequence">${t}</div>`).join('');
            } else {
                thoughtsList.innerHTML = '<div class="consequence"><em>No thoughts recorded during your journey.</em></div>';
            }
        }

        function restart() {
            currentStep = 1;
            score = 100;
            decisions = [];
            thoughts = [];
            
            document.getElementById('results').classList.remove('active');
            document.getElementById('start').classList.add('active');
            document.getElementById('score').textContent = '100';
        }
    </script>
</body>
</html>
